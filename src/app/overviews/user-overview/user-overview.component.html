
<section fxLayout="column" fxLayoutAlign="center center">
	
	<mat-card>
		<mat-card-header>
		    <mat-card-title>Maak rapport</mat-card-title>
		    <mat-card-subtitle>{{student?.displayName}}</mat-card-subtitle>
		</mat-card-header>

		<form (ngSubmit)="onSubmit()" [formGroup]="selectProgramForm">

			<mat-card-content>
				<mat-form-field class="full-width">
					<mat-select placeholder="Selecteer leerplan" formControlName="program">
					    <mat-option *ngFor="let program of programs" [value]="program">
					      {{program.code}} - {{ program.name }}
					    </mat-option>
					</mat-select>
				</mat-form-field>
				
			</mat-card-content>
			<mat-card-actions>
				<button type="submit" mat-button color="primary" [disabled]="selectProgramForm.invalid">
					Rapporteer
				</button>
				<button type="button" mat-button (click)="onReturnToOverview()" 
						*ngIf="(currentUser$ | async).role === 'Leraar'">
					Terug
				</button>
			</mat-card-actions>
		</form>
	</mat-card>

</section>

<div *ngIf="chart" class="chart">
  <canvas id="canvas">{{ chart }}</canvas>
</div>
<div fxLayout="column" fxLayoutAlign="center center" *ngIf="!chart">
	<p>Grafiek wordt geladen... Lang gewacht? Controleer of deze leerling al beoordelingen heeft gehad.</p>
	<mat-spinner></mat-spinner>
</div>